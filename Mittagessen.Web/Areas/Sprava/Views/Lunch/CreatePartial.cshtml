@model Mittagessen.Web.Areas.Sprava.Models.LunchModel

@{
    Layout = null;
}

<script type="text/javascript">
    $(function () {
        $('.selectable-meal').click(function () {
            $('#cooked-meal-id').val($(this).attr('meal-id'));
            $('#cooked-meal-id').valid();
            $('#cooked-meal-name').html($(this).attr('meal-name'));
        });
    });
</script>

@using(Html.BeginForm("Create", "Lunch", FormMethod.Post))
{
    
    <div>
        @Html.LabelFor(m => m.LunchDate)
        @Html.EditorFor(m => m.LunchDate)
        @Html.ValidationMessageFor(m => m.LunchDate)
    </div>
    <div>
        @Html.LabelFor(m => m.LunchTime)
        @Html.EditorFor(m => m.LunchTime)
        @Html.ValidationMessageFor(m => m.LunchTime)
    </div>
    <div>
        @Html.LabelFor(m => m.NumberOfPortions)
        @Html.EditorFor(m => m.NumberOfPortions)
        @Html.ValidationMessageFor(m => m.NumberOfPortions)
    </div>
   
    <div>        
        <a href="#myModal" role="button" class="btn" data-toggle="modal">Vybrat jedlo</a>
        <span id="cooked-meal-name"></span>
        @Html.HiddenFor(x => x.CookedMealId, new { id = "cooked-meal-id"})
        @Html.ValidationMessageFor(m => m.CookedMealId)
    </div>
    
    
    <br />
    <div>
        <input type="submit" class="btn btn-primary" value="Pridat" />
    </div>
}

<div class="modal hide fade in" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="myModalLabel">Modal header</h3>
  </div>
  <div class="modal-body">
    @Html.Action("MealList")
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    <button class="btn btn-primary">Save changes</button>
  </div>
</div>

