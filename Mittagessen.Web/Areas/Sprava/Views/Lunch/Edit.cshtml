@model Mittagessen.Data.Entities.Lunch

@{
    Layout = "~/Areas/Sprava/Views/Shared/_Layout.cshtml";
}

<script type="text/javascript">
    $(function () {
        $('.meal').click(function () {
            $('#cooked-meal-id').val($(this).attr('meal-id'));
            $('#cooked-meal-name').html($(this).attr('meal-name'));
        });
    });
</script>

@using(Html.BeginForm("Edit", "Lunch", FormMethod.Post))
{
    @Html.EditorForModel()

    @Html.HiddenFor(x => x.CookedMealId, new { id = "cooked-meal-id"})

    <div>
        <a href="#myModal" role="button" class="btn" data-toggle="modal">Vybrat jedlo</a>
        <span id="cooked-meal-name">@Model.CookedMeal.Name</span>
    </div>
    <br />
    <div>
        <input type="submit" class="btn btn-primary" value="Ulozit" />
    </div>
}

<div class="modal hide fade in" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="myModalLabel">Modal header</h3>
  </div>
  <div class="modal-body">
    @Html.Action("MealList")
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    <button class="btn btn-primary">Save changes</button>
  </div>
</div>